{
    "env": "hr_payroll",
    "model_provider": "openai",
    "model": "o4-mini",
    "num_trials": 3,
    "temperature": 1,
    "interface_num": 3,
    "task": {
        "user_id": "deb22af8-b9e0-489e-9905-505a681d12d6",
        "instruction": "You are a manager (user ID: 'deb22af8-b9e0-489e-9905-505a681d12d6') at your organization. One of your users (user ID: 42dc2988-4585-40c9-b374-3ddfc7f2028d) has requested reimbursement for pending payroll items in CAD. If the total for these items hasn't yet been invoiced and the user is currently active with valid contracts, you want a new invoice created to cover the full amount, with a due date set for one week from April 4, 2025. You also want to ensure the user is compensated using a virtual card issued through provider ID c1278b03-b3c9-4d3b-b2d3-eb353b433fc9, matching the invoice total. Additionally, the user has requested their Chase Bank account (FTUQ71086658086733) be updated to only accept payments in CAD going forward.",
        "actions": [
            {
                "name": "list_users_orgs_with_working_details",
                "arguments": {
                    "user_id": "42dc2988-4585-40c9-b374-3ddfc7f2028d"
                },
                "output": [
                    {
                    "user_id": "42dc2988-4585-40c9-b374-3ddfc7f2028d",
		            "workers":[{
			            "worker_id": "0e72a8ad-48e1-4e5c-bef5-5b4939a9c4e4",
                        "status": "active",
			        "organization":{
				        "organization_id": "b5ff5476-b3c6-4d43-963e-ef092755f3c4",
				        "name": "Davis, Terry and Butler",
				        "country": "Spain"
				}
			}]
		}
                ]
            },
            {
                "name": "list_payroll_runs",
                "arguments": {
                    "organization_id": "b5ff5476-b3c6-4d43-963e-ef092755f3c4",
                    "currency": "CAD"
                },
                "output": [
                    {   
                    "run_id": "270fdaff-56c3-4cd8-b37f-b47c9dc2bb91",
                    "organization_id": "b5ff5476-b3c6-4d43-963e-ef092755f3c4",
                    "run_date": "2023-07-07",
                    "status": "confirmed",
                    "currency": "CAD"
                    }
                ]
            },
            {
                "name": "retrieve_payroll_breakdown",
                "arguments": {
                    "payroll_run_id": "270fdaff-56c3-4cd8-b37f-b47c9dc2bb91"
                },
                "output": [
                    {   
                    "payroll_run_id": "270fdaff-56c3-4cd8-b37f-b47c9dc2bb91",
                    "breakdown_by_status": {
                        "pending": 6755.64
                    }
                    }
                ]
            },
            {
                "name": "get_worker_contract_summary",
                "arguments": {
                    "worker_id": "0e72a8ad-48e1-4e5c-bef5-5b4939a9c4e4"
                },
                "output": [
                    {   
                        "contract_id": "5fb71ed6-9d49-4426-9c4f-f6bd37a3ae6b",
                        "worker_id": "0e72a8ad-48e1-4e5c-bef5-5b4939a9c4e4",
                        "organization_id": "b5ff5476-b3c6-4d43-963e-ef092755f3c4",
                        "document_id": "9967e7d1-9ba3-434f-857a-5842b90745ef",
                        "user_id": "42dc2988-4585-40c9-b374-3ddfc7f2028d",
                        "start_date": "2023-03-09",
                        "end_date": "2025-04-29",
                        "rate": 132.32,
                        "rate_type": "hourly",
                        "status": "signed",
                        "currency": "DKK"
                    }
                ]
            },
            {
                "name": "get_filtered_invoices",
                "arguments": {
                    "worker_id": "0e72a8ad-48e1-4e5c-bef5-5b4939a9c4e4",
                    "organization_id": "b5ff5476-b3c6-4d43-963e-ef092755f3c4",
                    "currency": "CAD"
                },
                "output": []
            },
            {
            "name": "create_new_invoice",
            "arguments": {
                "worker_id": "0e72a8ad-48e1-4e5c-bef5-5b4939a9c4e4",
                "amount": 6755.64,
                "currency": "CAD",
                "due_date": "2025-04-11"
            },
            "output": {
                "invoice_id": "new_invoice_id",
                "worker_id": "0e72a8ad-48e1-4e5c-bef5-5b4939a9c4e4",
                "organization_id": "b5ff5476-b3c6-4d43-963e-ef092755f3c4",
                "issue_date": "2025-04-04",
                "due_date": "2025-04-11",
                "amount": 6755.64,
                "status": "issued",
                "currency": "CAD"
                }
            },
            {
                "name": "process_reimbursement_request",
                "arguments": {
                    "worker_id": "0e72a8ad-48e1-4e5c-bef5-5b4939a9c4e4",
                    "amount": 6755.64,
                    "reason": "Refund for pending payroll items"
                },
                "output": {
                        "reimbursement_id": "new_reimbursement_id_1"
                    }
            },
            {
            "name": "issue_virtual_card",
            "arguments": {
                "user_id": "42dc2988-4585-40c9-b374-3ddfc7f2028d",
                "provider_id": "c1278b03-b3c9-4d3b-b2d3-eb353b433fc9",
                "limit": 6755.64,
                "currency": "CAD"
            },
            "output": {
                "user_id": "42dc2988-4585-40c9-b374-3ddfc7f2028d",
                "provider_id": "c1278b03-b3c9-4d3b-b2d3-eb353b433fc9",
                "limit": 6755.64,
                "currency": "CAD",
                "status": "active"
                }
            },
            {
            "name": "update_worker_bank_info",
            "arguments": {
                "user_id": "42dc2988-4585-40c9-b374-3ddfc7f2028d",
                "bank_info":{
                    "account_number": "FTUQ71086658086733",
                    "currency": "CAD",
                    "bank_name": "Chase Bank"
				}
            },
            "output": [
                {
                    "worker_id": "0e72a8ad-48e1-4e5c-bef5-5b4939a9c4e4",
                    "user_id": "42dc2988-4585-40c9-b374-3ddfc7f2028d",
                    "updated": {
                        "user_id": "42dc2988-4585-40c9-b374-3ddfc7f2028d",
                        "bank_name": "Chase Bank",
                        "account_number": "FTUQ71086658086733",
                        "currency": "CAD",
                        "status": "active"
                    }
                }
                ]
            }
        ],
        "edges": [
            {
                "from": "instruction",
                "to": "list_users_orgs_with_working_details",
                "connection": {
                    "input": "user_id",
                    "output": "user_id"
                }
            },
            {
                "from": "instruction",
                "to": "list_payroll_runs",
                "connection": {
                    "input": "currency",
                    "output": "currency"
                }
            },
            {
                "from": "list_users_orgs_with_working_details",
                "to": "list_payroll_runs",
                "connection": {
                    "input": "organization_id",
                    "output": "organization_id"
                }
            },
            {
                "from": "list_payroll_runs",
                "to": "retrieve_payroll_breakdown",
                "connection": {
                    "input": "payroll_run_id",
                    "output": "payroll_run_id"
                }
            },
            {
                "from": "list_users_orgs_with_working_details",
                "to": "get_worker_contract_summary",
                "connection": {
                    "input": "worker_id",
                    "output": "worker_id"
                }
            },
            {
                "from": "instruction",
                "to": "get_filtered_invoices",
                "connection": {
                    "input": "currency",
                    "output": "currency"
                }
            },
            {
                "from": "list_users_orgs_with_working_details",
                "to": "get_filtered_invoices",
                "connection": {
                    "input": "worker_id, organization_id",
                    "output": "worker_id, organization_id"
                }
            },
            {
                "from": "instruction",
                "to": "create_new_invoice",
                "connection": {
                    "input": "currency, due_date",
                    "output": "currency, due_date"
                }
            },
            {
                "from": "list_users_orgs_with_working_details",
                "to": "create_new_invoice",
                "connection": {
                    "input": "worker_id",
                    "output": "worker_id"
                }
            },
            {
                "from": "retrieve_payroll_breakdown",
                "to": "create_new_invoice",
                "connection": {
                    "input": "amount",
                    "output": "amount"
                }
            },
            {
                "from": "instruction",
                "to": "process_reimbursement_request",
                "connection": {
                    "input": "reason",
                    "output": "reason"
                }
            },
			{
                "from": "list_users_orgs_with_working_details",
                "to": "process_reimbursement_request",
                "connection": {
                    "input": "worker_id",
                    "output": "worker_id"
                }
            },
            {
                "from": "retrieve_payroll_breakdown",
                "to": "process_reimbursement_request",
                "connection": {
                    "input": "amount",
                    "output": "amount"
                }
            },
            {
                "from": "instruction",
                "to": "issue_virtual_card",
                "connection": {
                    "input": "user_id, provider_id, currency",
                    "output": "user_id, provider_id, currency"
                }
            },
			{
                "from": "retrieve_payroll_breakdown",
                "to": "issue_virtual_card",
                "connection": {
                    "input": "limit",
                    "output": "limit"
                }
            },
            {
                "from": "instruction",
                "to": "update_worker_bank_info",
                "connection": {
                    "input": "user_id, bank_name, account_number, currency",
                    "output": "user_id, bank_name, account_number, currency"
                }
            }
        ],
        "num_edges": 16
    }
}
