{
    "env": "incident_management",
    "model_provider": "openai",
    "model": "o4-mini",
    "num_trials": 3,
    "temperature": 1,
    "interface_num": 4,
    "task": {
      "user_id": "9",
      "instruction": "You are Christopher Frank having email: christopher.frank@cook-johnson.com. You would like to raise an incident task with the short description: 'Multiple failed login attempts detected across production servers', under incident ID '9', and want to  assign it to the user '81'. You want the priority set to 'high' and the status marked as 'todo'. You would also like to leave a comment to the task 'Urgent review required' and attach a file titled 'login_attempts_log.txt' with the URL '/uploads/9/local/login_attempts_log.txt'. Additionally, you would like to add knowledge base article with the description 'Account Lockout Policy - 2025'. Once the article is created, you want it linked back to the same incident. At last, you want to investigate all the incident tasks linked to your company and find any useful knowledge base articles uploaded in the database.",
      "actions": [
        {
          "name": "filter_users",
          "arguments": {
              "email": "christopher.frank@cook-johnson.com"
          },
          "output":
            [
              {
                  "company_id": "12",
                  "created_at": "2021-02-24T10:09:11.564004",
                  "department_id": "18",
                  "email": "christopher.frank@cook-johnson.com",
                  "first_name": "Christopher",
                  "last_name": "Frank",
                  "role": "admin",
                  "status": "active",
                  "timezone": "Asia/Bahrain",
                  "updated_at": "2021-02-24T10:09:11.564004",
                  "user_id": "9"
              }
          ]
        },
        {
          "name": "create_incident_task",
          "arguments": {
              "assigned_to": 81,
              "description": "Multiple failed login attempts detected across production servers.",
              "incident_id": 9,
              "priority": "high",
              "status": "todo"
          },
          "output": {
              "task_id": 143
          }
        },
        {
          "name": "add_incident_comment",
          "arguments": {
              "comment_text": "Urgent review required.",
              "incident_id": "9",
              "user_id": "9"
          },
          "output": {
              "comment_text": "Urgent review required.",
              "created_at": "2025-10-01T00:00:00",
              "incident_comment_id": 787,
              "incident_id": "9",
              "is_public": true,
              "updated_at": "2025-10-01T00:00:00",
              "user_id": "9"
          }
        },
        {
          "name": "add_incident_attachment",
          "arguments": {
              "file_name": "login_attempts_log.txt",
              "file_url": "/uploads/9/local/login_attempts_log.txt",
              "incident_id": 9,
              "uploaded_by": 9
          },
          "output": {
              "incident_attachment_id": 202
          }
        },
        {
          "name": "create_kb_article",
          "arguments": {
              "company_id": "12",
              "created_by": "9",
              "description": "Account Lockout Policy - 2025"
          },
          "output": {
              "category_id": null,
              "company_id": "12",
              "created_at": "2025-10-01T00:00:00",
              "created_by": "9",
              "department_id": null,
              "description": "Account Lockout Policy - 2025",
              "knowledge_base_id": 51,
              "subcategory_id": null,
              "updated_at": "2025-10-01T00:00:00"
  
          }
        },
        {
          "name": "link_incident_to_kb",
          "arguments": {
              "incident_id": "9",
              "knowledge_base_id": "51"
  
          },
          "output": {
              "created_at": "2025-10-01T00:00:00",
              "incident_id": "9",
              "knowledge_base_id": "51"
  
          }
        },
        {
          "name": "get_incident_tasks",
          "arguments": {
            "incident_id": 9
          },
          "output": 
          [
              {
                  "assigned_to": "84",
                  "created_at": "2024-06-11T04:00:00.000000",
                  "description": "Verify user's identity via phone call.",
                  "due_date": "2024-06-11T13:24:33.126809",
                  "incident_id": "9",
                  "priority": "low",
                  "status": "done",
                  "task_id": "10",
                  "updated_at": "2024-06-11T04:15:00.000000"
              },
              {
                  "assigned_to": "84",
                  "created_at": "2024-06-11T04:20:00.000000",
                  "description": "Unlock the user's account in Active Directory.",
                  "due_date": "2024-06-12T03:24:33.126809",
                  "incident_id": "9",
                  "priority": "low",
                  "status": "in_progress",
                  "task_id": "11",
                  "updated_at": "2024-06-11T04:22:00.000000"
              },
              {
                  "assigned_to": 81,
                  "created_at": "2025-10-01T00:00:00",
                  "description": "Multiple failed login attempts detected across production servers.",
                  "due_date": null,
                  "incident_id": "9",
                  "priority": "high",
                  "status": "todo",
                  "task_id": 143,
                  "updated_at": "2025-10-01T00:00:00"
              }
          ]
        },
        {
          "name": "filter_kb_articles",
          "arguments":{
              "company_id": 12
          },
          "output":
          {
              "category_id": null,
              "company_id": "12",
              "created_at": "2025-10-01T00:00:00",
              "created_by": "9",
              "department_id": null,
              "description": "Account Lockout Policy - 2025",
              "knowledge_base_id": 51,
              "subcategory_id": null,
              "updated_at": "2025-10-01T00:00:00"
          }
        }
      ],
      "edges": [
        {
          "from": "instruction",
          "to": "filter_users",
          "connection": {
            "output": "email",
            "input": "email"
          }
        },
        {
          "from": "instruction",
          "to": "create_incident_task",
          "connection": {
            "output": "user_id, description, incident_id, priority, status",
            "input": "assigned_to, description, incident_id, priority, status"
          }
        },
        {
          "from": "instruction",
          "to": "add_incident_comment",
          "connection": {
            "output": "comment_text, incident_id",
            "input": "comment_text, incident_id"
          }
        },
        {
          "from": "filter_users",
          "to": "add_incident_comment",
          "connection": {
            "output": "output[0].user_id",
            "input": "user_id"
          }
        },
        {
          "from": "instruction",
          "to": "add_incident_attachment",
          "connection": {
            "output": "file_name, file_url, incident_id",
            "input": "file_name, file_url, incident_id"
          }
        },
        {
          "from": "filter_users",
          "to": "add_incident_attachment",
          "connection": {
            "output": "output[0].user_id",
            "input": "uploaded_by"
          }
        },
        {
          "from": "filter_users",
          "to": "create_kb_article",
          "connection": {
            "output": "output[0].user_id, output[0].company_id",
            "input": "created_by, company_id"
          }
        },
        {
          "from": "instruction",
          "to": "create_kb_article",
          "connection": {
            "output": "description",
            "input": "description"
          }
        },
        {
          "from": "create_kb_article",
          "to": "link_incident_to_kb",
          "connection": {
            "output": "knowledge_base_id",
            "input": "knowledge_base_id"
          }
        },
        {
          "from": "add_incident_comment",
          "to": "link_incident_to_kb",
          "connection": {
            "output": "incident_id",
            "input": "incident_id"
          }
        },
        {
          "from": "link_incident_to_kb",
          "to": "get_incident_tasks",
          "connection": {
            "output": "incident_id",
            "input": "incident_id"
          }
        },
        {
          "from": "create_kb_article",
          "to": "filter_kb_articles",
          "connection": {
            "output": "company_id",
            "input": "company_id"
          }
        }
      ],
      "outputs": [
          "9",
          "202",
          "51"
      ],
      "num_edges": 12
    }
  }
