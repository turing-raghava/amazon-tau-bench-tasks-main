{
  "env": "finance",
  "model_provider": "openai",
  "model": "o4-mini",
  "num_trials": 3,
  "temperature": 1,
  "interface_num": 3,
  "task": {
    "user_id": "13",
    "instruction": "You're a financial admin (id:13) preparing data for pricing an instrument with ticker COO2. You need to verify the user status first. Then, you want to verify the details of the instrument and check if a price between May 24th and June 9th of year 2025 is already recorded. You need to set the close price of the instrument record to 13.0851. Finally, get summary of this instrument types by prices on the date of price recorded.",
    "actions": [
      { 
        "name": "find_user", 
        "arguments": { "user_id":"13" }, 
        "output": [
        {
            "created_at": "2025-08-04T23:40:19.151085",
            "email": "courtneyconner@gmail.com",
            "first_name": "Courtney",
            "last_name": "Conner",
            "role": "admin",
            "status": "active",
            "timezone": "Africa/Kampala",
            "updated_at": "2025-08-04T23:40:19.151085",
            "user_id": "13"
        }
        ]
      },
      { 
        "name": "retrieve_instruments", 
        "arguments": { "ticker": "COO2" }, 
        "output": [
        {
            "instrument_id": "31",
            "instrument_type": "derivative",
            "name": "Crude Oil Options #2",
            "ticker": "COO2"
        }
        ]
      },
      { 
        "name": "retrieve_instrument_prices", 
        "arguments": { "instrument_id": "31", "start_date": "2025-05-24", "end_date":"2025-06-09" }, 
        "output": [
        {
            "close_price": 12.0652,
            "high_price": 15.863,
            "instrument_id": "31",
            "low_price": 11.5922,
            "open_price": 14.669,
            "price_date": "2025-06-03",
            "price_id": "140"
        }
        ]
      },
      { 
        "name": "summary_of_instrument_types_by_prices", 
        "arguments": { "date": "2025-06-03" }, 
        "output": [
        {
            "average_close_price": 58.9578,
            "date": "2025-06-03",
            "instrument_type": "derivative",
            "instruments_with_prices": 4,
            "total_close_value": 235.83,
            "total_instruments": 41
        },
        {
            "average_close_price": 63.3884,
            "date": "2025-06-03",
            "instrument_type": "stock",
            "instruments_with_prices": 6,
            "total_close_value": 380.33,
            "total_instruments": 34
        },
        {
            "average_close_price": 28.8657,
            "date": "2025-06-03",
            "instrument_type": "bond",
            "instruments_with_prices": 1,
            "total_close_value": 28.87,
            "total_instruments": 38
        },
        {
            "average_close_price": 75.1542,
            "date": "2025-06-03",
            "instrument_type": "cash",
            "instruments_with_prices": 5,
            "total_close_value": 375.77,
            "total_instruments": 38
        },
        {
            "average_close_price": 62.9702,
            "date": "2025-06-03",
            "instrument_type": "other",
            "instruments_with_prices": 4,
            "total_close_value": 251.88,
            "total_instruments": 25
        }
        ]
      },
      { 
        "name": "update_instrument_price", "arguments": { 
        "price_id":"140", 
        "close_price": 13.0851 }, 
        "output": {
            "close_price": 13.0851,
            "high_price": 15.863,
            "instrument_id": "31",
            "low_price": 11.5922,
            "open_price": 14.669,
            "price_date": "2025-06-03",
            "price_id": "140"
            }
      }
    ],
    "outputs": ["31", "2025-06-03", "140"],
    "edges": [
      { "from": "instruction", "to": "find_user", "connection": { "output": "user_id", "input": "user_id" } },
      { "from": "instruction", "to": "retrieve_instruments", "connection": { "output": "ticker", "input": "ticker" } },
      { "from": "retrieve_instruments", "to": "retrieve_instrument_prices", "connection": { "output": "output[0].instrument_id", "input": "instrument_id" } },
      { "from": "instruction", "to": "retrieve_instrument_prices", "connection": { "output": "start_date, end_date", "input": "start_date, end_date" } },
      { "from":"retrieve_instrument_prices", "to": "summary_of_instrument_types_by_prices", "connection":{"output":"output[0].price_date", "input":"date"}},
      { "from": "retrieve_instrument_prices", "to": "update_instrument_price", "connection": { "output": "output[0].price_id", "input": "price_id" } },
      { "from": "instruction", "to": "update_instrument_price", "connection": { "output": "close_price", "input": "close_price" } }
    ],
    "num_edges": 7
  }
}
